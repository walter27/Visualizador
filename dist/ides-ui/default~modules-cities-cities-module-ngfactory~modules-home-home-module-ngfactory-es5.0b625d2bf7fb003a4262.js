function _createForOfIteratorHelper(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=_unsupportedIterableToArray(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,r=!0,a=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return r=t.done,t},e:function(t){a=!0,l=t},f:function(){try{r||null==e.return||e.return()}finally{if(a)throw l}}}}function _unsupportedIterableToArray(t,n){if(t){if("string"==typeof t)return _arrayLikeToArray(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,n):void 0}}function _arrayLikeToArray(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"7QvK":function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var i=e("lJxs"),o=e("6n/F"),l=e("l+Jo"),r=e.n(l),a=function(){function t(n,e){_classCallCheck(this,t),this.tagService=n,this.regionService=e,this.stopwords=[],this.newTag="",this.chartOptions={},this.data=[],this.tagsData=[],this.updateDemo=!1,this.highcharts=o,r()(this.highcharts)}return _createClass(t,[{key:"ngOnInit",value:function(){this.citySelected=this.regionService.citySelect,this.citySelectedId&&(this.getStopwords(),this.listTags(this.citySelectedId))}},{key:"getStopwords",value:function(){var t=this;this.tagService.getStopwords().pipe(Object(i.a)((function(t){return t}))).subscribe((function(n){n.data.length>0&&(t.stopwords=n.data[0].stopwords)}))}},{key:"parseStopword",value:function(t){var n=this,e=[];return t.split(" ").forEach((function(t){void 0===n.stopwords.find((function(n){return n===t.toUpperCase().trim()}))&&e.push(t.toUpperCase().trim())})),e}},{key:"onAddTag",value:function(t,n){for(var e=this,i=this.parseStopword(t),o=0;o<i.length;o++)this.tagService.addTag({text:i[o].toLowerCase().trim(),id_Canton:this.citySelectedId,type:n}).subscribe((function(t){e.newTag="",e.listTags(e.citySelectedId)}),(function(t){console.log(t)}))}},{key:"listTags",value:function(t){var n=this;this.tagService.getTagsByCantByType(t).pipe(Object(i.a)((function(t){return t}))).subscribe((function(t){n.tagsData=[],t.data.forEach((function(t){t.positive>t.negative&&t.positive>t.neutro&&n.tagsData.push({name:t._id,weight:t.positive,color:"#008000"}),t.negative>t.positive&&t.negative>t.neutro&&n.tagsData.push({name:t._id,weight:t.negative,color:"#ff6633"}),t.neutro>t.positive&&t.neutro>t.negative&&n.tagsData.push({name:t._id,weight:t.neutro,color:"#696969"})})),n.createWordCloud()}))}},{key:"createWordCloud",value:function(){this.chartOptions={chart:{plotBorderWidth:0,animation:!0,backgroundColor:"transparent"},series:[{type:"wordcloud",data:this.tagsData,name:"Value"}],title:{text:""},exporting:{enabled:!1}}}}]),t}()},NAV4:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var i=e("8Y7J"),o=e("OquC"),l=i["\u0275crt"]({encapsulation:0,styles:['[_nghost-%COMP%]{font-family:Helvetica,Arial,sans-serif;font-size:10px;line-height:normal;color:#09f;overflow:hidden;position:relative;display:block}span[_ngcontent-%COMP%]{padding:0}span.w10[_ngcontent-%COMP%]{font-size:550%}span.w9[_ngcontent-%COMP%]{font-size:500%}span.w8[_ngcontent-%COMP%]{font-size:450%}span.w7[_ngcontent-%COMP%]{font-size:400%}span.w6[_ngcontent-%COMP%]{font-size:350%}span.w5[_ngcontent-%COMP%]{font-size:300%}span.w4[_ngcontent-%COMP%]{font-size:250%}span.w3[_ngcontent-%COMP%]{font-size:200%}span.w2[_ngcontent-%COMP%]{font-size:150%}a[_ngcontent-%COMP%]:hover, span.w10[_ngcontent-%COMP%], span.w8[_ngcontent-%COMP%], span.w9[_ngcontent-%COMP%]{color:#0cf}span.w7[_ngcontent-%COMP%]{color:#39d}span.w6[_ngcontent-%COMP%]{color:#90c5f0}span.w5[_ngcontent-%COMP%]{color:#90a0dd}span.w4[_ngcontent-%COMP%]{color:#90c5f0}span.w3[_ngcontent-%COMP%]{color:#a0ddff}span.w2[_ngcontent-%COMP%]{color:#9ce}span.w1[_ngcontent-%COMP%]{font-size:100%;color:#aab5f0}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:inherit;background-color:#555;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;bottom:100%;left:0;opacity:0;transition:opacity .3s}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]::after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#555 transparent transparent}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;opacity:1}'],data:{}});function r(t){return i["\u0275vid"](0,[],null,null)}var a=i["\u0275ccf"]("angular-tag-cloud, ng-tag-cloud, ngtc",o.a,(function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"angular-tag-cloud",[],null,[["window","resize"]],(function(t,n,e){var o=!0;return"window:resize"===n&&(o=!1!==i["\u0275nov"](t,1).onResize(e)&&o),o}),r,l)),i["\u0275did"](1,3719168,null,0,o.a,[i.ElementRef,i.Renderer2],null,null)],null,null)}),{data:"data",width:"width",height:"height",step:"step",overflow:"overflow",strict:"strict",zoomOnHover:"zoomOnHover",realignOnResize:"realignOnResize",randomizeAngle:"randomizeAngle",background:"background",font:"font",config:"config",log:"log"},{clicked:"clicked",dataChanges:"dataChanges",afterInit:"afterInit",afterChecked:"afterChecked"},[])},O3Op:function(t,n,e){"use strict";var i=e("8Y7J"),o=e("TSSN"),l=e("s7LF"),r=e("c/fn"),a=e("SVse"),s=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function u(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"span",[],[[1,"aria-hidden",0]],null,null,null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"ui-clickable":0,"ui-button-icon-left":1,"ui-button-icon-right":2})],(function(t,n){var e=n.component,i=e.icon,o=t(n,3,0,!0,"left"===e.iconPos,"right"===e.iconPos);t(n,2,0,i,o)}),(function(t,n){t(n,0,0,!0)}))}function c(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,10,"button",[],[[1,"type",0],[8,"disabled",0]],[[null,"click"],[null,"focus"],[null,"blur"]],(function(t,n,e){var i=!0,o=t.component;return"click"===n&&(i=!1!==o.onClick.emit(e)&&i),"focus"===n&&(i=!1!==o.onFocus.emit(e)&&i),"blur"===n&&(i=!1!==o.onBlur.emit(e)&&i),i}),null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"ui-button ui-widget ui-state-default ui-corner-all":0,"ui-button-icon-only":1,"ui-button-text-icon-left":2,"ui-button-text-icon-right":3,"ui-button-text-only":4,"ui-button-text-empty":5,"ui-state-disabled":6}),i["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](5,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275ncd"](null,0),(t()(),i["\u0275and"](16777216,null,null,1,null,u)),i["\u0275did"](8,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](9,0,null,null,1,"span",[["class","ui-button-text ui-clickable"]],[[1,"aria-hidden",0]],null,null,null,null)),(t()(),i["\u0275ted"](10,null,["",""]))],(function(t,n){var e=n.component,i=e.styleClass,o=t(n,3,0,!0,e.icon&&!e.label,e.icon&&e.label&&"left"===e.iconPos,e.icon&&e.label&&"right"===e.iconPos,!e.icon&&e.label,!e.icon&&!e.label,e.disabled);t(n,2,0,i,o),t(n,5,0,e.style),t(n,8,0,e.icon)}),(function(t,n){var e=n.component;t(n,0,0,e.type,e.disabled),t(n,9,0,e.icon&&!e.label),t(n,10,0,e.label||"ui-btn")}))}var d=e("bICO"),h=e("JUyF");e("7QvK"),e("O4YN"),e("CzLl"),e.d(n,"a",(function(){return g})),e.d(n,"b",(function(){return y}));var g=i["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]    .ui-button{background-color:#f5a700;border-color:#f5a700;border-radius:20px;padding:6px}[_nghost-%COMP%]    .ui-inputtext{border-radius:15px}h4.titulos-word[_ngcontent-%COMP%]{font:Roboto,sans-serif!important;padding-top:.5em!important;color:#24355a;font-weight:700!important}"]],data:{}});function p(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","col-lg-12 col-xl-12 pl-4 pt-4 text-left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,2,"h4",[["class","titulos-word"],["translate",""]],null,null,null,null,null)),i["\u0275did"](2,8536064,null,0,o.e,[o.k,i.ElementRef,i.ChangeDetectorRef],{translate:[0,"translate"]},null),(t()(),i["\u0275ted"](-1,null,["describe_city"]))],(function(t,n){t(n,2,0,"")}),null)}function f(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","col-md-6 text-right pt-4"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,5,"input",[["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,n,e){var o=!0,l=t.component;return"input"===n&&(o=!1!==i["\u0275nov"](t,2)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==i["\u0275nov"](t,2).onTouched()&&o),"compositionstart"===n&&(o=!1!==i["\u0275nov"](t,2)._compositionStart()&&o),"compositionend"===n&&(o=!1!==i["\u0275nov"](t,2)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(l.newTag=e)&&o),o}),null,null)),i["\u0275did"](2,16384,null,0,l.d,[i.Renderer2,i.ElementRef,[2,l.a]],null,null),i["\u0275prd"](1024,null,l.m,(function(t){return[t]}),[l.d]),i["\u0275did"](4,671744,null,0,l.r,[[8,null],[8,null],[8,null],[6,l.m]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,l.n,null,[l.r]),i["\u0275did"](6,16384,null,0,l.o,[[4,l.n]],null,null)],(function(t,n){t(n,4,0,n.component.newTag)}),(function(t,n){t(n,1,0,i["\u0275nov"](n,6).ngClassUntouched,i["\u0275nov"](n,6).ngClassTouched,i["\u0275nov"](n,6).ngClassPristine,i["\u0275nov"](n,6).ngClassDirty,i["\u0275nov"](n,6).ngClassValid,i["\u0275nov"](n,6).ngClassInvalid,i["\u0275nov"](n,6).ngClassPending)}))}function m(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","col-md-6 text-left pt-4"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"p-button",[["label","ENVIAR"]],null,[[null,"onClick"]],(function(t,n,e){var i=!0,o=t.component;return"onClick"===n&&(i=!1!==o.onAddTag(o.newTag,"positive")&&i),i}),c,s)),i["\u0275did"](2,49152,null,0,r.a,[],{label:[0,"label"]},{onClick:"onClick"})],(function(t,n){t(n,2,0,"ENVIAR")}),null)}function v(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","col-lg-12 col-xl-12 pl-4 pt-4 text-left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,2,"h4",[["class","titulos-word"],["translate",""]],null,null,null,null,null)),i["\u0275did"](2,8536064,null,0,o.e,[o.k,i.ElementRef,i.ChangeDetectorRef],{translate:[0,"translate"]},null),(t()(),i["\u0275ted"](-1,null,["word_cloud"]))],(function(t,n){t(n,2,0,"")}),null)}function y(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,p)),i["\u0275did"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,f)),i["\u0275did"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,m)),i["\u0275did"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,v)),i["\u0275did"](8,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](9,0,null,null,2,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),i["\u0275eld"](10,0,null,null,1,"highcharts-chart",[["style","width: 100%; height: 400px; display: block;"]],null,[[null,"updateChange"]],(function(t,n,e){var i=!0;return"updateChange"===n&&(i=!1!==(t.component.updateDemo=e)&&i),i}),d.b,d.a)),i["\u0275did"](11,180224,null,0,h.a,[i.ElementRef,i.NgZone],{Highcharts:[0,"Highcharts"],oneToOne:[1,"oneToOne"],options:[2,"options"],update:[3,"update"]},{updateChange:"updateChange"})],(function(t,n){var e=n.component;t(n,2,0,!e.citySelected),t(n,4,0,!e.citySelected),t(n,6,0,!e.citySelected),t(n,8,0,!e.citySelected),t(n,11,0,e.highcharts,!0,e.chartOptions,e.updateDemo)}),null)}},O4YN:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var i=e("AytR"),o=e("IheW"),l=e("lJxs"),r=e("8Y7J"),a=e("OiFK"),s={headers:new o.g({"Content-Type":"application/json"})},u=function(){var t=function(){function t(n,e){_classCallCheck(this,t),this.httpClient=n,this.utilsService=e,this.serverUrl=i.a.serverUrl,this.urlTag=i.a.tag.base,this.urlTagsByCantByType=i.a.home.getTagsByCantByType,this.urlAddTag=i.a.home.addTag,this.urlStopwords=i.a.home.getStopwords}return _createClass(t,[{key:"listTags",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=this.utilsService.buildFilters(t);return this.httpClient.post(this.serverUrl+this.urlTag+"/filter"+e,n).pipe(Object(l.a)((function(t){return t.results})))}},{key:"addTag",value:function(t){return this.httpClient.post(this.serverUrl+this.urlAddTag,t,s)}},{key:"editTag",value:function(t,n,e){return this.httpClient.put(this.serverUrl+this.urlTag+"/"+n,t,s)}},{key:"deleteTag",value:function(t){return this.httpClient.delete(this.serverUrl+this.urlTag+"/"+t,s)}},{key:"getTag",value:function(t,n){return this.httpClient.get(this.serverUrl+this.urlTag+"/"+t).pipe(Object(l.a)((function(t){return t.results.data})))}},{key:"getTagsByCantByType",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";return this.httpClient.post(this.serverUrl+this.urlTagsByCantByType,{id_Canton:t,type:n},s).pipe(Object(l.a)((function(t){return t.results})))}},{key:"getStopwords",value:function(){return this.httpClient.post(this.serverUrl+this.urlStopwords,s).pipe(Object(l.a)((function(t){return t.results})))}}]),t}();return t.ngInjectableDef=r["\u0275\u0275defineInjectable"]({factory:function(){return new t(r["\u0275\u0275inject"](o.c),r["\u0275\u0275inject"](a.a))},token:t,providedIn:"root"}),t}()},OquC:function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return l}));var i=e("8Y7J"),o=function(){function t(n,e){_classCallCheck(this,t),this.el=n,this.r2=e,this.clicked=new i.EventEmitter,this.dataChanges=new i.EventEmitter,this.afterInit=new i.EventEmitter,this.afterChecked=new i.EventEmitter,this.alreadyPlacedWords=[]}return _createClass(t,[{key:"onResize",value:function(t){var n=this;this.logMessage("debug","rezisze triggered"),window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((function(){n.options.realignOnResize&&n.reDraw()}),200)}},{key:"ngOnChanges",value:function(t){this.logMessage("debug","ngOnChanges fired",t),this.config=Object.assign({width:500,height:300,overflow:!0,strict:!1,zoomOnHover:{transitionTime:0,scale:1,delay:0,color:null},realignOnResize:!1,randomizeAngle:!1,background:null,font:null,step:2,log:!1},this.config),this.width&&(this.config.width=this.width),this.height&&(this.config.height=this.height),"boolean"==typeof this.overflow&&(this.config.overflow=this.overflow),"boolean"==typeof this.strict&&(this.config.strict=this.strict),"boolean"==typeof this.realignOnResize&&(this.config.realignOnResize=this.realignOnResize),"boolean"==typeof this.randomizeAngle&&(this.config.randomizeAngle=this.randomizeAngle),"string"==typeof this.background&&(this.config.background=this.background),"string"==typeof this.font&&(this.config.font=this.font),this.zoomOnHover&&(this.config.zoomOnHover=this.zoomOnHover),this.step&&(this.config.step=this.step),this.log&&(this.config.log=this.log),this.logMessage("warn","cloud configuration",this.config),this.config.font&&this.r2.setStyle(this.el.nativeElement,"font",this.config.font),this.config.background&&this.r2.setStyle(this.el.nativeElement,"background",this.config.background),this.reDraw(t)}},{key:"reDraw",value:function(t){if(this.dataChanges.emit(t),this.afterChecked.emit(),this.logMessage("debug","dataChanges emitted"),this.alreadyPlacedWords=[],this.data){this.el.nativeElement.innerHTML="",t&&t.data&&(this.dataArr=t.data.currentValue);var n=this.config.width;this.el.nativeElement.parentNode.offsetWidth>0&&n<=1&&n>0&&(n*=this.el.nativeElement.parentNode.offsetWidth);var e=this.config.height;this.options=Object.assign({},this.config,{aspectRatio:n/e,width:n,center:{x:n/2,y:e/2}}),this.r2.setStyle(this.el.nativeElement,"width",this.options.width+"px"),this.r2.setStyle(this.el.nativeElement,"height",this.options.height+"px"),this.drawWordCloud(),this.logMessage("debug","reDraw finished")}else console.error("angular-tag-cloud: No data passed. Please pass an Array of CloudData")}},{key:"ngAfterContentInit",value:function(){this.afterInit.emit(),this.logMessage("debug","afterInit emitted")}},{key:"ngAfterContentChecked",value:function(){this.afterChecked.emit(),this.logMessage("debug","afterChecked emitted")}},{key:"descriptiveEntry",value:function(t){var n=t.text;return t.color&&(n+="-"+t.color),t.external&&(n+="-"+t.external),t.link&&(n+="-"+t.link),t.rotate&&(n+="-"+t.rotate),n}},{key:"drawWordCloud",value:function(){var t=this;this.dataArr.sort((function(n,e){return t.descriptiveEntry(n).localeCompare(t.descriptiveEntry(e))})),this.dataArr.sort((function(t,n){return n.weight-t.weight})),this.dataArr.forEach((function(n,e){t.drawWord(e,n)}))}},{key:"hitTest",value:function(t){var n,e=_createForOfIteratorHelper(this.alreadyPlacedWords);try{for(e.s();!(n=e.n()).done;){var i=n.value;if(this.overlapping(t,i))return!0}}catch(o){e.e(o)}finally{e.f()}return!1}},{key:"overlapping",value:function(t,n){var e=t.getBoundingClientRect(),i=n.getBoundingClientRect();return!(e.right<i.left||e.left>i.right||e.bottom<i.top||e.top>i.bottom)}},{key:"drawWord",value:function(t,n){var e,i=this,o=this.options.randomizeAngle?6.28*Math.random():0,l=0,r=5;this.dataArr[0].weight>this.dataArr[this.dataArr.length-1].weight&&(this.options.strict?n.weight>10?(r=10,this.logMessage("warn","[TagCloud strict] Weight property ".concat(n.weight," > 10. Fallback to 10 as you are using strict mode"),n)):n.weight<1?(r=1,this.logMessage("warn","[TagCloud strict] Given weight property ".concat(n.weight," < 1. Fallback to 1 as you are using strict mode"),n)):n.weight%1!=0?(r=Math.round(n.weight),this.logMessage("warn","[TagCloud strict] Given weight property ".concat(n.weight," is not an integer. Rounded value to ").concat(r),n)):r=n.weight:r=Math.round((n.weight-this.dataArr[this.dataArr.length-1].weight)/(this.dataArr[0].weight-this.dataArr[this.dataArr.length-1].weight)*9)+1),(e=this.r2.createElement("span")).className="w"+r;var a=this.clicked;e.onclick=function(){a.emit(n)};var s=this.r2.createText(n.text);n.color&&this.r2.setStyle(e,"color",n.color);var u="";if(n.rotate&&(u="rotate(".concat(n.rotate,"deg)"),this.r2.setStyle(e,"transform",u)),n.link){var c=this.r2.createElement("a");c.href=n.link,void 0!==n.external&&n.external&&(c.target="_blank"),c.appendChild(s),s=c}this.options.zoomOnHover&&1!==this.options.zoomOnHover.scale&&(this.options.zoomOnHover.transitionTime||(this.options.zoomOnHover.transitionTime=0),this.options.zoomOnHover.scale||(this.options.zoomOnHover.scale=1),e.onmouseover=function(){i.r2.setStyle(e,"transition","transform ".concat(i.options.zoomOnHover.transitionTime,"s")),i.r2.setStyle(e,"transform","scale(".concat(i.options.zoomOnHover.scale,") ").concat(u)),i.r2.setStyle(e,"transition-delay",i.options.zoomOnHover.delay+"s"),i.options.zoomOnHover.color&&i.r2.setStyle(n.link?s:e,"color",i.options.zoomOnHover.color)},e.onmouseout=function(){i.r2.setStyle(e,"transform","none "+u),i.options.zoomOnHover.color&&i.r2.removeStyle(n.link?s:e,"color")}),e.appendChild(s),this.r2.appendChild(this.el.nativeElement,e);var d=e.offsetWidth,h=e.offsetHeight,g=this.options.center.x-d/2,p=this.options.center.y-h/2,f=e.style;if(f.position="absolute",f.left=g+"px",f.top=p+"px",n.tooltip){this.r2.addClass(e,"tooltip");var m=this.r2.createElement("span");m.className="tooltiptext";var v=this.r2.createText(n.tooltip);m.appendChild(v),e.appendChild(m)}for(e.id="angular-tag-cloud-item-"+t;this.hitTest(e);)l+=this.options.step,o+=(t%2==0?1:-1)*this.options.step,g=this.options.center.x-d/2+l*Math.cos(o)*this.options.aspectRatio,p=this.options.center.y+l*Math.sin(o)-h/2,f.left=g+"px",f.top=p+"px";if(0===t&&(f.left=g+2*(Math.random()-.5)*(this.options.width/5)+"px",f.top=p+2*(Math.random()-.5)*(this.options.height/5)+"30px"),!this.options.overflow&&(g<0||p<0||g+d>this.options.width||p+h>this.options.height))return this.logMessage("warn","Word did not fit into the cloud and overflow is set to 'false'. The element will be removed",e),void e.remove();this.logMessage("debug","Adds new word <span>",e),this.alreadyPlacedWords.push(e),this.logMessage("debug","Placed words",this.alreadyPlacedWords)}},{key:"logMessage",value:function(t){for(var n,e,i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];this.config&&("debug"===this.config.log?(n=console).log.apply(n,["[AngularTagCloudModule ".concat(t,"]")].concat(o)):"warn"===this.config.log&&"warn"===t&&(e=console).warn.apply(e,["[AngularTagCloudModule ".concat(t,"]")].concat(o)))}}]),t}(),l=function t(){_classCallCheck(this,t)}},bICO:function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return l}));var i=e("8Y7J"),o=(e("JUyF"),i["\u0275crt"]({encapsulation:2,styles:[],data:{}}));function l(t){return i["\u0275vid"](0,[],null,null)}},"l+Jo":function(t,n,e){var i,o;!function(l){t.exports?(l.default=l,t.exports=l):(i=[e("6n/F")],void 0===(o=(function(t){return l(t),l.Highcharts=t,l}).apply(n,i))||(t.exports=o))}((function(t){function n(t,n,e,i){t.hasOwnProperty(n)||(t[n]=i.apply(null,e))}n(t=t?t._modules:{},"mixins/draw-point.js",[],(function(){var t=function(t){var n,e=this,i=e.graphic,o=t.animatableAttribs,l=t.onComplete,r=t.css,a=t.renderer,s=null===(n=e.series)||void 0===n?void 0:n.options.animation;if(e.shouldDraw())i||(e.graphic=i=a[t.shapeType](t.shapeArgs).add(t.group)),i.css(r).attr(t.attribs).animate(o,!t.isNew&&s,l);else if(i){var u=function(){e.graphic=i=i.destroy(),"function"==typeof l&&l()};Object.keys(o).length?i.animate(o,void 0,(function(){u()})):u()}};return function(n){(n.attribs=n.attribs||{}).class=this.getClassName(),t.call(this,n)}})),n(t,"mixins/polygon.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,n){var e=n.find,i=n.isArray,o=n.isNumber,l=t.deg2rad,r=function(t,n){return n=o(n)?n:14,n=Math.pow(10,n),Math.round(t*n)/n},a=function(t,n){return t=t.map((function(t){return t[0]*n[0]+t[1]*n[1]})),{min:Math.min.apply(this,t),max:Math.max.apply(this,t)}},s=function(t,n){var e=t[0];t=t[1];var i=l*-n;return n=Math.cos(i),i=Math.sin(i),[r(e*n-t*i),r(e*i+t*n)]},u=function(t,n,e){return[(t=s([t[0]-n[0],t[1]-n[1]],e))[0]+n[0],t[1]+n[1]]},c=function(t){var n=t.axes;if(!i(n)){n=[];var o=o=t.concat([t[0]]);o.reduce((function(t,i){var o=function(t,n){var e=n[0]-t[0];return[[-(t=n[1]-t[1]),e],[t,-e]]}(t,i)[0];return e(n,(function(t){return t[0]===o[0]&&t[1]===o[1]}))||n.push(o),i})),t.axes=n}return n};return{getBoundingBoxFromPolygon:function(t){return t.reduce((function(t,n){var e=n[0];return n=n[1],t.left=Math.min(e,t.left),t.right=Math.max(e,t.right),t.bottom=Math.max(n,t.bottom),t.top=Math.min(n,t.top),t}),{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPolygon:function(t,n,e,i,o){var l=[t,n],r=t-e/2;return t+=e/2,[[r,e=n-i/2],[t,e],[t,n+=i/2],[r,n]].map((function(t){return u(t,l,-o)}))},isPolygonsColliding:function(t,n){var i=function(t,n){return t=c(t),n=c(n),t.concat(n)}(t,n);return!e(i,(function(e){var i=a(t,e);return!!((e=a(n,e)).min>i.max||e.max<i.min)}))},movePolygon:function(t,n,e){return e.map((function(e){return[e[0]+t,e[1]+n]}))},rotate2DToOrigin:s,rotate2DToPoint:u}})),n(t,"modules/wordcloud.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/draw-point.js"],t["mixins/polygon.js"]],(function(t,n,e,i){function o(t,n){var e=!1,i=t.rect,o=t.polygon,l=t.lastCollidedWith,r=function(n){var e=n.rect;return(e=!(e.left>i.right||e.right<i.left||e.top>i.bottom||e.bottom<i.top))&&(t.rotation%90||n.rotation%90)&&(e=w(o,n.polygon)),e};return l&&((e=r(l))||delete t.lastCollidedWith),e||(e=!!d(n,(function(n){var e=r(n);return e&&(t.lastCollidedWith=n),e}))),e}function l(t,n){n=4*t;var e=Math.ceil((Math.sqrt(n)-1)/2),i=2*e+1,o=Math.pow(i,2),l=!1;return--i,1e4>=t&&("boolean"==typeof l&&n>=o-i&&(l={x:e-(o-n),y:-e}),o-=i,"boolean"==typeof l&&n>=o-i&&(l={x:-e,y:o-n-e}),o-=i,"boolean"==typeof l&&(l=n>=o-i?{x:o-n-e,y:e}:{x:e,y:e-(o-n-i)}),l.x*=5,l.y*=5),l}function r(t,n,e,i){var o=!1;return g(t)&&g(n)&&g(e)&&g(i)&&0<t&&-1<n&&i>e&&(o=e+n%t*((i-e)/(t-1||1))),o}function a(t,n){return!(-n.width/2<t.left&&n.width/2>t.right&&-n.height/2<t.top&&n.height/2>t.bottom)}function s(t,n){var e=n.placed,i=n.field,l=n.rectangle,r=n.polygon,s=n.spiral,u=1,d={x:0,y:0},h=t.rect=c({},l);for(t.polygon=r,t.rotation=n.rotation;!1!==d&&(o(t,e)||a(h,i));)d=s(u),p(d)&&(h.left=l.left+d.x,h.right=l.right+d.x,h.top=l.top+d.y,h.bottom=l.bottom+d.y,t.polygon=b(d.x,d.y,r)),u++;return d}function u(t,n){if(p(t)&&p(n)){var e=n.bottom-n.top,i=n.right-n.left,o=t.ratioY;t=f(t,{width:t.width+(e=i*(n=t.ratioX)>e*o?i:e)*n*2,height:t.height+e*o*2})}return t}var c=n.extend,d=n.find,h=n.isArray,g=n.isNumber,p=n.isObject,f=n.merge,m=t.noop,v=i.getBoundingBoxFromPolygon,y=i.getPolygon,w=i.isPolygonsColliding,b=i.movePolygon,C=t.Series;(n=n.seriesType)("wordcloud","column",{allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.weight}</b><br/>'}},{animate:C.prototype.animate,animateDrilldown:m,animateDrillupFrom:m,setClip:m,bindAxes:function(){var t={endOnTick:!1,gridLineWidth:0,lineWidth:0,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};C.prototype.bindAxes.call(this),c(this.yAxis.options,t),c(this.xAxis.options,t)},pointAttribs:function(n,e){return delete(n=t.seriesTypes.column.prototype.pointAttribs.call(this,n,e)).stroke,delete n["stroke-width"],n},deriveFontSize:function(t,n,e){return t=g(t)?t:0,n=g(n)?n:1,e=g(e)?e:1,Math.floor(Math.max(e,t*n))},drawPoints:function(){var t=this,n=t.hasRendered,e=t.xAxis,i=t.yAxis,o=t.group,l=t.options,r=l.animation,a=l.allowExtendPlayingField,d=t.chart.renderer,h=d.text().add(o),f=[],m=t.placementStrategy[l.placementStrategy],w=l.rotation,b=t.points.map((function(t){return t.weight})),C=Math.max.apply(null,b),x=t.points.concat().sort((function(t,n){return n.weight-t.weight}));t.group.attr({scaleX:1,scaleY:1}),x.forEach((function(n){var e=t.deriveFontSize(1/C*n.weight,l.maxFontSize,l.minFontSize);e=c({fontSize:e+"px"},l.style),h.css(e).attr({x:0,y:0,text:n.name}),e=h.getBBox(!0),n.dimensions={height:e.height,width:e.width}}));var M=function(t,n,e){e=e.reduce((function(t,n){n=n.dimensions;var e=Math.max(n.width,n.height);return t.maxHeight=Math.max(t.maxHeight,n.height),t.maxWidth=Math.max(t.maxWidth,n.width),t.area+=e*e,t}),{maxHeight:0,maxWidth:0,area:0});var i=t>n?t/n:1;return{width:(e=Math.max(e.maxHeight,e.maxWidth,.85*Math.sqrt(e.area)))*i,height:e*(t=n>t?n/t:1),ratioX:i,ratioY:t}}(e.len,i.len,x),O=function(t,n){var e,i=[];for(e=1;1e4>e;e++)i.push(t(e,n));return function(t){return 1e4>=t&&i[t-1]}}(t.spirals[l.spiral],{field:M});x.forEach((function(e){var i=t.deriveFontSize(1/C*e.weight,l.maxFontSize,l.minFontSize);i=c({fontSize:i+"px"},l.style);var h=m(e,{data:x,field:M,placed:f,rotation:w}),b=c(t.pointAttribs(e,e.selected&&"select"),{align:"center","alignment-baseline":"middle",x:h.x,y:h.y,text:e.name,rotation:h.rotation}),k=y(h.x,h.y,e.dimensions.width,e.dimensions.height,h.rotation),T=v(k),A=s(e,{rectangle:T,polygon:k,field:M,placed:f,spiral:O,rotation:h.rotation});if(!A&&a&&(A=s(e,{rectangle:T,polygon:k,field:M=u(M,T),placed:f,spiral:O,rotation:h.rotation})),p(A)?(b.x+=A.x,b.y+=A.y,T.left+=A.x,T.right+=A.x,T.top+=A.y,T.bottom+=A.y,(!g((h=M).left)||h.left>T.left)&&(h.left=T.left),(!g(h.right)||h.right<T.right)&&(h.right=T.right),(!g(h.top)||h.top>T.top)&&(h.top=T.top),(!g(h.bottom)||h.bottom<T.bottom)&&(h.bottom=T.bottom),M=h,f.push(e),e.isNull=!1):e.isNull=!0,r){var S={x:b.x,y:b.y};n?(delete b.x,delete b.y):(b.x=0,b.y=0)}e.draw({animatableAttribs:S,attribs:b,css:i,group:o,renderer:d,shapeArgs:void 0,shapeType:"text"})})),h=h.destroy(),e=function(t,n,e){var i=2*Math.max(Math.abs(e.top),Math.abs(e.bottom));return e=2*Math.max(Math.abs(e.left),Math.abs(e.right)),Math.min(0<e?1/e*t:1,0<i?1/i*n:1)}(e.len,i.len,M),t.group.attr({scaleX:e,scaleY:e})},hasData:function(){return p(this)&&!0===this.visible&&h(this.points)&&0<this.points.length},placementStrategy:{random:function(t,n){var e=n.field;return n=n.rotation,{x:Math.round(e.width*(Math.random()+.5)/2)-e.width/2,y:Math.round(e.height*(Math.random()+.5)/2)-e.height/2,rotation:r(n.orientations,t.index,n.from,n.to)}},center:function(t,n){return{x:0,y:0,rotation:r((n=n.rotation).orientations,t.index,n.from,n.to)}}},pointArrayMap:["weight"],spirals:{archimedean:function(t,n){var e=n.field;n=!1,e=e.width*e.width+e.height*e.height;var i=.8*t;return 1e4>=t&&(n={x:i*Math.cos(i),y:i*Math.sin(i)},Math.min(Math.abs(n.x),Math.abs(n.y))<e||(n=!1)),n},rectangular:function(t,n){return t=l(t,n),n=n.field,t&&(t.x*=n.ratioX,t.y*=n.ratioY),t},square:l},utils:{extendPlayingField:u,getRotation:r,isPolygonsColliding:w,rotate2DToOrigin:i.rotate2DToOrigin,rotate2DToPoint:i.rotate2DToPoint},getPlotBox:function(){var t=this.chart,n=t.inverted,e=this[n?"yAxis":"xAxis"];return{translateX:(e?e.left:t.plotLeft)+(e?e.len:t.plotWidth)/2,translateY:((n=this[n?"xAxis":"yAxis"])?n.top:t.plotTop)+(n?n.len:t.plotHeight)/2,scaleX:1,scaleY:1}}},{draw:e,shouldDraw:function(){return!this.isNull},isValid:function(){return!0},weight:1})})),n(t,"masters/modules/wordcloud.src.js",[],(function(){}))}))}}]);