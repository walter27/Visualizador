(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"7QvK":function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var i=e("lJxs"),o=e("6n/F"),l=e("l+Jo"),r=e.n(l);class a{constructor(t,n){this.tagService=t,this.regionService=n,this.stopwords=[],this.newTag="",this.chartOptions={},this.data=[],this.tagsData=[],this.updateDemo=!1,this.highcharts=o,r()(this.highcharts)}ngOnInit(){this.citySelected=this.regionService.citySelect,this.citySelectedId&&(this.getStopwords(),this.listTags(this.citySelectedId))}getStopwords(){this.tagService.getStopwords().pipe(Object(i.a)(t=>t)).subscribe(t=>{t.data.length>0&&(this.stopwords=t.data[0].stopwords)})}parseStopword(t){let n=[];return t.split(" ").forEach(t=>{void 0===this.stopwords.find(n=>n===t.toUpperCase().trim())&&n.push(t.toUpperCase().trim())}),n}onAddTag(t,n){let e=this.parseStopword(t);for(let i=0;i<e.length;i++)this.tagService.addTag({text:e[i].toLowerCase().trim(),id_Canton:this.citySelectedId,type:n}).subscribe(t=>{this.newTag="",this.listTags(this.citySelectedId)},t=>{console.log(t)})}listTags(t){this.tagService.getTagsByCantByType(t).pipe(Object(i.a)(t=>t)).subscribe(t=>{this.tagsData=[],t.data.forEach(t=>{t.positive>t.negative&&t.positive>t.neutro&&this.tagsData.push({name:t._id,weight:t.positive,color:"#008000"}),t.negative>t.positive&&t.negative>t.neutro&&this.tagsData.push({name:t._id,weight:t.negative,color:"#ff6633"}),t.neutro>t.positive&&t.neutro>t.negative&&this.tagsData.push({name:t._id,weight:t.neutro,color:"#696969"})}),this.createWordCloud()})}createWordCloud(){this.chartOptions={chart:{plotBorderWidth:0,animation:!0,backgroundColor:"transparent"},series:[{type:"wordcloud",data:this.tagsData,name:"Value"}],title:{text:""},exporting:{enabled:!1}}}}},NAV4:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var i=e("8Y7J"),o=e("OquC"),l=i["\u0275crt"]({encapsulation:0,styles:['[_nghost-%COMP%]{font-family:Helvetica,Arial,sans-serif;font-size:10px;line-height:normal;color:#09f;overflow:hidden;position:relative;display:block}span[_ngcontent-%COMP%]{padding:0}span.w10[_ngcontent-%COMP%]{font-size:550%}span.w9[_ngcontent-%COMP%]{font-size:500%}span.w8[_ngcontent-%COMP%]{font-size:450%}span.w7[_ngcontent-%COMP%]{font-size:400%}span.w6[_ngcontent-%COMP%]{font-size:350%}span.w5[_ngcontent-%COMP%]{font-size:300%}span.w4[_ngcontent-%COMP%]{font-size:250%}span.w3[_ngcontent-%COMP%]{font-size:200%}span.w2[_ngcontent-%COMP%]{font-size:150%}a[_ngcontent-%COMP%]:hover, span.w10[_ngcontent-%COMP%], span.w8[_ngcontent-%COMP%], span.w9[_ngcontent-%COMP%]{color:#0cf}span.w7[_ngcontent-%COMP%]{color:#39d}span.w6[_ngcontent-%COMP%]{color:#90c5f0}span.w5[_ngcontent-%COMP%]{color:#90a0dd}span.w4[_ngcontent-%COMP%]{color:#90c5f0}span.w3[_ngcontent-%COMP%]{color:#a0ddff}span.w2[_ngcontent-%COMP%]{color:#9ce}span.w1[_ngcontent-%COMP%]{font-size:100%;color:#aab5f0}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:inherit;background-color:#555;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;bottom:100%;left:0;opacity:0;transition:opacity .3s}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]::after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#555 transparent transparent}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;opacity:1}'],data:{}});function r(t){return i["\u0275vid"](0,[],null,null)}function a(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"angular-tag-cloud",[],null,[["window","resize"]],(function(t,n,e){var o=!0;return"window:resize"===n&&(o=!1!==i["\u0275nov"](t,1).onResize(e)&&o),o}),r,l)),i["\u0275did"](1,3719168,null,0,o.a,[i.ElementRef,i.Renderer2],null,null)],null,null)}var s=i["\u0275ccf"]("angular-tag-cloud, ng-tag-cloud, ngtc",o.a,a,{data:"data",width:"width",height:"height",step:"step",overflow:"overflow",strict:"strict",zoomOnHover:"zoomOnHover",realignOnResize:"realignOnResize",randomizeAngle:"randomizeAngle",background:"background",font:"font",config:"config",log:"log"},{clicked:"clicked",dataChanges:"dataChanges",afterInit:"afterInit",afterChecked:"afterChecked"},[])},O3Op:function(t,n,e){"use strict";var i=e("8Y7J"),o=e("TSSN"),l=e("s7LF"),r=e("c/fn"),a=e("SVse"),s=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function u(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"span",[],[[1,"aria-hidden",0]],null,null,null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"ui-clickable":0,"ui-button-icon-left":1,"ui-button-icon-right":2})],(function(t,n){var e=n.component,i=e.icon,o=t(n,3,0,!0,"left"===e.iconPos,"right"===e.iconPos);t(n,2,0,i,o)}),(function(t,n){t(n,0,0,!0)}))}function h(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,10,"button",[],[[1,"type",0],[8,"disabled",0]],[[null,"click"],[null,"focus"],[null,"blur"]],(function(t,n,e){var i=!0,o=t.component;return"click"===n&&(i=!1!==o.onClick.emit(e)&&i),"focus"===n&&(i=!1!==o.onFocus.emit(e)&&i),"blur"===n&&(i=!1!==o.onBlur.emit(e)&&i),i}),null,null)),i["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"ui-button ui-widget ui-state-default ui-corner-all":0,"ui-button-icon-only":1,"ui-button-text-icon-left":2,"ui-button-text-icon-right":3,"ui-button-text-only":4,"ui-button-text-empty":5,"ui-state-disabled":6}),i["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[i.ElementRef,i.KeyValueDiffers,i.Renderer2]),i["\u0275did"](5,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),i["\u0275ncd"](null,0),(t()(),i["\u0275and"](16777216,null,null,1,null,u)),i["\u0275did"](8,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](9,0,null,null,1,"span",[["class","ui-button-text ui-clickable"]],[[1,"aria-hidden",0]],null,null,null,null)),(t()(),i["\u0275ted"](10,null,["",""]))],(function(t,n){var e=n.component,i=e.styleClass,o=t(n,3,0,!0,e.icon&&!e.label,e.icon&&e.label&&"left"===e.iconPos,e.icon&&e.label&&"right"===e.iconPos,!e.icon&&e.label,!e.icon&&!e.label,e.disabled);t(n,2,0,i,o),t(n,5,0,e.style),t(n,8,0,e.icon)}),(function(t,n){var e=n.component;t(n,0,0,e.type,e.disabled),t(n,9,0,e.icon&&!e.label),t(n,10,0,e.label||"ui-btn")}))}var d=e("bICO"),c=e("JUyF");e("7QvK"),e("O4YN"),e("CzLl"),e.d(n,"a",(function(){return g})),e.d(n,"b",(function(){return y}));var g=i["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]    .ui-button{background-color:#f5a700;border-color:#f5a700;border-radius:20px;padding:6px}[_nghost-%COMP%]    .ui-inputtext{border-radius:15px}h4.titulos-word[_ngcontent-%COMP%]{font:Roboto,sans-serif!important;padding-top:.5em!important;color:#24355a;font-weight:700!important}"]],data:{}});function p(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","col-lg-12 col-xl-12 pl-4 pt-4 text-left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,2,"h4",[["class","titulos-word"],["translate",""]],null,null,null,null,null)),i["\u0275did"](2,8536064,null,0,o.e,[o.k,i.ElementRef,i.ChangeDetectorRef],{translate:[0,"translate"]},null),(t()(),i["\u0275ted"](-1,null,["describe_city"]))],(function(t,n){t(n,2,0,"")}),null)}function f(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","col-md-6 text-right pt-4"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,5,"input",[["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,n,e){var o=!0,l=t.component;return"input"===n&&(o=!1!==i["\u0275nov"](t,2)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==i["\u0275nov"](t,2).onTouched()&&o),"compositionstart"===n&&(o=!1!==i["\u0275nov"](t,2)._compositionStart()&&o),"compositionend"===n&&(o=!1!==i["\u0275nov"](t,2)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(l.newTag=e)&&o),o}),null,null)),i["\u0275did"](2,16384,null,0,l.d,[i.Renderer2,i.ElementRef,[2,l.a]],null,null),i["\u0275prd"](1024,null,l.m,(function(t){return[t]}),[l.d]),i["\u0275did"](4,671744,null,0,l.r,[[8,null],[8,null],[8,null],[6,l.m]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,l.n,null,[l.r]),i["\u0275did"](6,16384,null,0,l.o,[[4,l.n]],null,null)],(function(t,n){t(n,4,0,n.component.newTag)}),(function(t,n){t(n,1,0,i["\u0275nov"](n,6).ngClassUntouched,i["\u0275nov"](n,6).ngClassTouched,i["\u0275nov"](n,6).ngClassPristine,i["\u0275nov"](n,6).ngClassDirty,i["\u0275nov"](n,6).ngClassValid,i["\u0275nov"](n,6).ngClassInvalid,i["\u0275nov"](n,6).ngClassPending)}))}function m(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","col-md-6 text-left pt-4"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"p-button",[["label","ENVIAR"]],null,[[null,"onClick"]],(function(t,n,e){var i=!0,o=t.component;return"onClick"===n&&(i=!1!==o.onAddTag(o.newTag,"positive")&&i),i}),h,s)),i["\u0275did"](2,49152,null,0,r.a,[],{label:[0,"label"]},{onClick:"onClick"})],(function(t,n){t(n,2,0,"ENVIAR")}),null)}function v(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","col-lg-12 col-xl-12 pl-4 pt-4 text-left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,2,"h4",[["class","titulos-word"],["translate",""]],null,null,null,null,null)),i["\u0275did"](2,8536064,null,0,o.e,[o.k,i.ElementRef,i.ChangeDetectorRef],{translate:[0,"translate"]},null),(t()(),i["\u0275ted"](-1,null,["word_cloud"]))],(function(t,n){t(n,2,0,"")}),null)}function y(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,p)),i["\u0275did"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,f)),i["\u0275did"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,m)),i["\u0275did"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,v)),i["\u0275did"](8,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](9,0,null,null,2,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),i["\u0275eld"](10,0,null,null,1,"highcharts-chart",[["style","width: 100%; height: 400px; display: block;"]],null,[[null,"updateChange"]],(function(t,n,e){var i=!0;return"updateChange"===n&&(i=!1!==(t.component.updateDemo=e)&&i),i}),d.b,d.a)),i["\u0275did"](11,180224,null,0,c.a,[i.ElementRef,i.NgZone],{Highcharts:[0,"Highcharts"],oneToOne:[1,"oneToOne"],options:[2,"options"],update:[3,"update"]},{updateChange:"updateChange"})],(function(t,n){var e=n.component;t(n,2,0,!e.citySelected),t(n,4,0,!e.citySelected),t(n,6,0,!e.citySelected),t(n,8,0,!e.citySelected),t(n,11,0,e.highcharts,!0,e.chartOptions,e.updateDemo)}),null)}},O4YN:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var i=e("AytR"),o=e("IheW"),l=e("lJxs"),r=e("8Y7J"),a=e("OiFK");const s={headers:new o.g({"Content-Type":"application/json"})};let u=(()=>{class t{constructor(t,n){this.httpClient=t,this.utilsService=n,this.serverUrl=i.a.serverUrl,this.urlTag=i.a.tag.base,this.urlTagsByCantByType=i.a.home.getTagsByCantByType,this.urlAddTag=i.a.home.addTag,this.urlStopwords=i.a.home.getStopwords}listTags(t,n={}){const e=this.utilsService.buildFilters(t);return this.httpClient.post(this.serverUrl+this.urlTag+"/filter"+e,n).pipe(Object(l.a)(t=>t.results))}addTag(t){return this.httpClient.post(this.serverUrl+this.urlAddTag,t,s)}editTag(t,n,e){return this.httpClient.put(this.serverUrl+this.urlTag+"/"+n,t,s)}deleteTag(t){return this.httpClient.delete(this.serverUrl+this.urlTag+"/"+t,s)}getTag(t,n){return this.httpClient.get(this.serverUrl+this.urlTag+"/"+t).pipe(Object(l.a)(t=>t.results.data))}getTagsByCantByType(t,n="all"){return this.httpClient.post(this.serverUrl+this.urlTagsByCantByType,{id_Canton:t,type:n},s).pipe(Object(l.a)(t=>t.results))}getStopwords(){return this.httpClient.post(this.serverUrl+this.urlStopwords,s).pipe(Object(l.a)(t=>t.results))}}return t.ngInjectableDef=r["\u0275\u0275defineInjectable"]({factory:function(){return new t(r["\u0275\u0275inject"](o.c),r["\u0275\u0275inject"](a.a))},token:t,providedIn:"root"}),t})()},OquC:function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return l}));var i=e("8Y7J");class o{constructor(t,n){this.el=t,this.r2=n,this.clicked=new i.EventEmitter,this.dataChanges=new i.EventEmitter,this.afterInit=new i.EventEmitter,this.afterChecked=new i.EventEmitter,this.alreadyPlacedWords=[]}onResize(t){this.logMessage("debug","rezisze triggered"),window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{this.options.realignOnResize&&this.reDraw()},200)}ngOnChanges(t){this.logMessage("debug","ngOnChanges fired",t),this.config=Object.assign({width:500,height:300,overflow:!0,strict:!1,zoomOnHover:{transitionTime:0,scale:1,delay:0,color:null},realignOnResize:!1,randomizeAngle:!1,background:null,font:null,step:2,log:!1},this.config),this.width&&(this.config.width=this.width),this.height&&(this.config.height=this.height),"boolean"==typeof this.overflow&&(this.config.overflow=this.overflow),"boolean"==typeof this.strict&&(this.config.strict=this.strict),"boolean"==typeof this.realignOnResize&&(this.config.realignOnResize=this.realignOnResize),"boolean"==typeof this.randomizeAngle&&(this.config.randomizeAngle=this.randomizeAngle),"string"==typeof this.background&&(this.config.background=this.background),"string"==typeof this.font&&(this.config.font=this.font),this.zoomOnHover&&(this.config.zoomOnHover=this.zoomOnHover),this.step&&(this.config.step=this.step),this.log&&(this.config.log=this.log),this.logMessage("warn","cloud configuration",this.config),this.config.font&&this.r2.setStyle(this.el.nativeElement,"font",this.config.font),this.config.background&&this.r2.setStyle(this.el.nativeElement,"background",this.config.background),this.reDraw(t)}reDraw(t){if(this.dataChanges.emit(t),this.afterChecked.emit(),this.logMessage("debug","dataChanges emitted"),this.alreadyPlacedWords=[],!this.data)return void console.error("angular-tag-cloud: No data passed. Please pass an Array of CloudData");this.el.nativeElement.innerHTML="",t&&t.data&&(this.dataArr=t.data.currentValue);let n=this.config.width;this.el.nativeElement.parentNode.offsetWidth>0&&n<=1&&n>0&&(n*=this.el.nativeElement.parentNode.offsetWidth);const e=this.config.height;this.options=Object.assign({},this.config,{aspectRatio:n/e,width:n,center:{x:n/2,y:e/2}}),this.r2.setStyle(this.el.nativeElement,"width",this.options.width+"px"),this.r2.setStyle(this.el.nativeElement,"height",this.options.height+"px"),this.drawWordCloud(),this.logMessage("debug","reDraw finished")}ngAfterContentInit(){this.afterInit.emit(),this.logMessage("debug","afterInit emitted")}ngAfterContentChecked(){this.afterChecked.emit(),this.logMessage("debug","afterChecked emitted")}descriptiveEntry(t){let n=t.text;return t.color&&(n+="-"+t.color),t.external&&(n+="-"+t.external),t.link&&(n+="-"+t.link),t.rotate&&(n+="-"+t.rotate),n}drawWordCloud(){this.dataArr.sort((t,n)=>this.descriptiveEntry(t).localeCompare(this.descriptiveEntry(n))),this.dataArr.sort((t,n)=>n.weight-t.weight),this.dataArr.forEach((t,n)=>{this.drawWord(n,t)})}hitTest(t){for(const n of this.alreadyPlacedWords)if(this.overlapping(t,n))return!0;return!1}overlapping(t,n){const e=t.getBoundingClientRect(),i=n.getBoundingClientRect();return!(e.right<i.left||e.left>i.right||e.bottom<i.top||e.top>i.bottom)}drawWord(t,n){let e,i=this.options.randomizeAngle?6.28*Math.random():0,o=0,l=5;this.dataArr[0].weight>this.dataArr[this.dataArr.length-1].weight&&(this.options.strict?n.weight>10?(l=10,this.logMessage("warn",`[TagCloud strict] Weight property ${n.weight} > 10. Fallback to 10 as you are using strict mode`,n)):n.weight<1?(l=1,this.logMessage("warn",`[TagCloud strict] Given weight property ${n.weight} < 1. Fallback to 1 as you are using strict mode`,n)):n.weight%1!=0?(l=Math.round(n.weight),this.logMessage("warn",`[TagCloud strict] Given weight property ${n.weight} is not an integer. Rounded value to ${l}`,n)):l=n.weight:l=Math.round((n.weight-this.dataArr[this.dataArr.length-1].weight)/(this.dataArr[0].weight-this.dataArr[this.dataArr.length-1].weight)*9)+1),e=this.r2.createElement("span"),e.className="w"+l;const r=this.clicked;e.onclick=()=>{r.emit(n)};let a=this.r2.createText(n.text);n.color&&this.r2.setStyle(e,"color",n.color);let s="";if(n.rotate&&(s=`rotate(${n.rotate}deg)`,this.r2.setStyle(e,"transform",s)),n.link){const t=this.r2.createElement("a");t.href=n.link,void 0!==n.external&&n.external&&(t.target="_blank"),t.appendChild(a),a=t}this.options.zoomOnHover&&1!==this.options.zoomOnHover.scale&&(this.options.zoomOnHover.transitionTime||(this.options.zoomOnHover.transitionTime=0),this.options.zoomOnHover.scale||(this.options.zoomOnHover.scale=1),e.onmouseover=()=>{this.r2.setStyle(e,"transition",`transform ${this.options.zoomOnHover.transitionTime}s`),this.r2.setStyle(e,"transform",`scale(${this.options.zoomOnHover.scale}) ${s}`),this.r2.setStyle(e,"transition-delay",this.options.zoomOnHover.delay+"s"),this.options.zoomOnHover.color&&this.r2.setStyle(n.link?a:e,"color",this.options.zoomOnHover.color)},e.onmouseout=()=>{this.r2.setStyle(e,"transform","none "+s),this.options.zoomOnHover.color&&this.r2.removeStyle(n.link?a:e,"color")}),e.appendChild(a),this.r2.appendChild(this.el.nativeElement,e);const u=e.offsetWidth,h=e.offsetHeight;let d=this.options.center.x-u/2,c=this.options.center.y-h/2;const g=e.style;if(g.position="absolute",g.left=d+"px",g.top=c+"px",n.tooltip){this.r2.addClass(e,"tooltip");const t=this.r2.createElement("span");t.className="tooltiptext";const i=this.r2.createText(n.tooltip);t.appendChild(i),e.appendChild(t)}for(e.id="angular-tag-cloud-item-"+t;this.hitTest(e);)o+=this.options.step,i+=(t%2==0?1:-1)*this.options.step,d=this.options.center.x-u/2+o*Math.cos(i)*this.options.aspectRatio,c=this.options.center.y+o*Math.sin(i)-h/2,g.left=d+"px",g.top=c+"px";if(0===t&&(g.left=d+2*(Math.random()-.5)*(this.options.width/5)+"px",g.top=c+2*(Math.random()-.5)*(this.options.height/5)+"30px"),!this.options.overflow&&(d<0||c<0||d+u>this.options.width||c+h>this.options.height))return this.logMessage("warn","Word did not fit into the cloud and overflow is set to 'false'. The element will be removed",e),void e.remove();this.logMessage("debug","Adds new word <span>",e),this.alreadyPlacedWords.push(e),this.logMessage("debug","Placed words",this.alreadyPlacedWords)}logMessage(t,...n){this.config&&("debug"===this.config.log?console.log(`[AngularTagCloudModule ${t}]`,...n):"warn"===this.config.log&&"warn"===t&&console.warn(`[AngularTagCloudModule ${t}]`,...n))}}class l{}},bICO:function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return l}));var i=e("8Y7J"),o=(e("JUyF"),i["\u0275crt"]({encapsulation:2,styles:[],data:{}}));function l(t){return i["\u0275vid"](0,[],null,null)}},"l+Jo":function(t,n,e){var i,o;!function(l){t.exports?(l.default=l,t.exports=l):(i=[e("6n/F")],void 0===(o=(function(t){return l(t),l.Highcharts=t,l}).apply(n,i))||(t.exports=o))}((function(t){function n(t,n,e,i){t.hasOwnProperty(n)||(t[n]=i.apply(null,e))}n(t=t?t._modules:{},"mixins/draw-point.js",[],(function(){var t=function(t){var n,e=this,i=e.graphic,o=t.animatableAttribs,l=t.onComplete,r=t.css,a=t.renderer,s=null===(n=e.series)||void 0===n?void 0:n.options.animation;if(e.shouldDraw())i||(e.graphic=i=a[t.shapeType](t.shapeArgs).add(t.group)),i.css(r).attr(t.attribs).animate(o,!t.isNew&&s,l);else if(i){var u=function(){e.graphic=i=i.destroy(),"function"==typeof l&&l()};Object.keys(o).length?i.animate(o,void 0,(function(){u()})):u()}};return function(n){(n.attribs=n.attribs||{}).class=this.getClassName(),t.call(this,n)}})),n(t,"mixins/polygon.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,n){var e=n.find,i=n.isArray,o=n.isNumber,l=t.deg2rad,r=function(t,n){return n=o(n)?n:14,n=Math.pow(10,n),Math.round(t*n)/n},a=function(t,n){return t=t.map((function(t){return t[0]*n[0]+t[1]*n[1]})),{min:Math.min.apply(this,t),max:Math.max.apply(this,t)}},s=function(t,n){var e=t[0];t=t[1];var i=l*-n;return n=Math.cos(i),i=Math.sin(i),[r(e*n-t*i),r(e*i+t*n)]},u=function(t,n,e){return[(t=s([t[0]-n[0],t[1]-n[1]],e))[0]+n[0],t[1]+n[1]]},h=function(t){var n=t.axes;if(!i(n)){n=[];var o=o=t.concat([t[0]]);o.reduce((function(t,i){var o=function(t,n){var e=n[0]-t[0];return[[-(t=n[1]-t[1]),e],[t,-e]]}(t,i)[0];return e(n,(function(t){return t[0]===o[0]&&t[1]===o[1]}))||n.push(o),i})),t.axes=n}return n};return{getBoundingBoxFromPolygon:function(t){return t.reduce((function(t,n){var e=n[0];return n=n[1],t.left=Math.min(e,t.left),t.right=Math.max(e,t.right),t.bottom=Math.max(n,t.bottom),t.top=Math.min(n,t.top),t}),{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPolygon:function(t,n,e,i,o){var l=[t,n],r=t-e/2;return t+=e/2,[[r,e=n-i/2],[t,e],[t,n+=i/2],[r,n]].map((function(t){return u(t,l,-o)}))},isPolygonsColliding:function(t,n){var i=function(t,n){return t=h(t),n=h(n),t.concat(n)}(t,n);return!e(i,(function(e){var i=a(t,e);return!!((e=a(n,e)).min>i.max||e.max<i.min)}))},movePolygon:function(t,n,e){return e.map((function(e){return[e[0]+t,e[1]+n]}))},rotate2DToOrigin:s,rotate2DToPoint:u}})),n(t,"modules/wordcloud.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/draw-point.js"],t["mixins/polygon.js"]],(function(t,n,e,i){function o(t,n){var e=!1,i=t.rect,o=t.polygon,l=t.lastCollidedWith,r=function(n){var e=n.rect;return(e=!(e.left>i.right||e.right<i.left||e.top>i.bottom||e.bottom<i.top))&&(t.rotation%90||n.rotation%90)&&(e=w(o,n.polygon)),e};return l&&((e=r(l))||delete t.lastCollidedWith),e||(e=!!d(n,(function(n){var e=r(n);return e&&(t.lastCollidedWith=n),e}))),e}function l(t,n){n=4*t;var e=Math.ceil((Math.sqrt(n)-1)/2),i=2*e+1,o=Math.pow(i,2),l=!1;return--i,1e4>=t&&("boolean"==typeof l&&n>=o-i&&(l={x:e-(o-n),y:-e}),o-=i,"boolean"==typeof l&&n>=o-i&&(l={x:-e,y:o-n-e}),o-=i,"boolean"==typeof l&&(l=n>=o-i?{x:o-n-e,y:e}:{x:e,y:e-(o-n-i)}),l.x*=5,l.y*=5),l}function r(t,n,e,i){var o=!1;return g(t)&&g(n)&&g(e)&&g(i)&&0<t&&-1<n&&i>e&&(o=e+n%t*((i-e)/(t-1||1))),o}function a(t,n){return!(-n.width/2<t.left&&n.width/2>t.right&&-n.height/2<t.top&&n.height/2>t.bottom)}function s(t,n){var e=n.placed,i=n.field,l=n.rectangle,r=n.polygon,s=n.spiral,u=1,d={x:0,y:0},c=t.rect=h({},l);for(t.polygon=r,t.rotation=n.rotation;!1!==d&&(o(t,e)||a(c,i));)d=s(u),p(d)&&(c.left=l.left+d.x,c.right=l.right+d.x,c.top=l.top+d.y,c.bottom=l.bottom+d.y,t.polygon=b(d.x,d.y,r)),u++;return d}function u(t,n){if(p(t)&&p(n)){var e=n.bottom-n.top,i=n.right-n.left,o=t.ratioY;t=f(t,{width:t.width+(e=i*(n=t.ratioX)>e*o?i:e)*n*2,height:t.height+e*o*2})}return t}var h=n.extend,d=n.find,c=n.isArray,g=n.isNumber,p=n.isObject,f=n.merge,m=t.noop,v=i.getBoundingBoxFromPolygon,y=i.getPolygon,w=i.isPolygonsColliding,b=i.movePolygon,x=t.Series;(n=n.seriesType)("wordcloud","column",{allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.weight}</b><br/>'}},{animate:x.prototype.animate,animateDrilldown:m,animateDrillupFrom:m,setClip:m,bindAxes:function(){var t={endOnTick:!1,gridLineWidth:0,lineWidth:0,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};x.prototype.bindAxes.call(this),h(this.yAxis.options,t),h(this.xAxis.options,t)},pointAttribs:function(n,e){return delete(n=t.seriesTypes.column.prototype.pointAttribs.call(this,n,e)).stroke,delete n["stroke-width"],n},deriveFontSize:function(t,n,e){return t=g(t)?t:0,n=g(n)?n:1,e=g(e)?e:1,Math.floor(Math.max(e,t*n))},drawPoints:function(){var t=this,n=t.hasRendered,e=t.xAxis,i=t.yAxis,o=t.group,l=t.options,r=l.animation,a=l.allowExtendPlayingField,d=t.chart.renderer,c=d.text().add(o),f=[],m=t.placementStrategy[l.placementStrategy],w=l.rotation,b=t.points.map((function(t){return t.weight})),x=Math.max.apply(null,b),C=t.points.concat().sort((function(t,n){return n.weight-t.weight}));t.group.attr({scaleX:1,scaleY:1}),C.forEach((function(n){var e=t.deriveFontSize(1/x*n.weight,l.maxFontSize,l.minFontSize);e=h({fontSize:e+"px"},l.style),c.css(e).attr({x:0,y:0,text:n.name}),e=c.getBBox(!0),n.dimensions={height:e.height,width:e.width}}));var M=function(t,n,e){e=e.reduce((function(t,n){n=n.dimensions;var e=Math.max(n.width,n.height);return t.maxHeight=Math.max(t.maxHeight,n.height),t.maxWidth=Math.max(t.maxWidth,n.width),t.area+=e*e,t}),{maxHeight:0,maxWidth:0,area:0});var i=t>n?t/n:1;return{width:(e=Math.max(e.maxHeight,e.maxWidth,.85*Math.sqrt(e.area)))*i,height:e*(t=n>t?n/t:1),ratioX:i,ratioY:t}}(e.len,i.len,C),O=function(t,n){var e,i=[];for(e=1;1e4>e;e++)i.push(t(e,n));return function(t){return 1e4>=t&&i[t-1]}}(t.spirals[l.spiral],{field:M});C.forEach((function(e){var i=t.deriveFontSize(1/x*e.weight,l.maxFontSize,l.minFontSize);i=h({fontSize:i+"px"},l.style);var c=m(e,{data:C,field:M,placed:f,rotation:w}),b=h(t.pointAttribs(e,e.selected&&"select"),{align:"center","alignment-baseline":"middle",x:c.x,y:c.y,text:e.name,rotation:c.rotation}),T=y(c.x,c.y,e.dimensions.width,e.dimensions.height,c.rotation),P=v(T),S=s(e,{rectangle:P,polygon:T,field:M,placed:f,spiral:O,rotation:c.rotation});if(!S&&a&&(S=s(e,{rectangle:P,polygon:T,field:M=u(M,P),placed:f,spiral:O,rotation:c.rotation})),p(S)?(b.x+=S.x,b.y+=S.y,P.left+=S.x,P.right+=S.x,P.top+=S.y,P.bottom+=S.y,(!g((c=M).left)||c.left>P.left)&&(c.left=P.left),(!g(c.right)||c.right<P.right)&&(c.right=P.right),(!g(c.top)||c.top>P.top)&&(c.top=P.top),(!g(c.bottom)||c.bottom<P.bottom)&&(c.bottom=P.bottom),M=c,f.push(e),e.isNull=!1):e.isNull=!0,r){var A={x:b.x,y:b.y};n?(delete b.x,delete b.y):(b.x=0,b.y=0)}e.draw({animatableAttribs:A,attribs:b,css:i,group:o,renderer:d,shapeArgs:void 0,shapeType:"text"})})),c=c.destroy(),e=function(t,n,e){var i=2*Math.max(Math.abs(e.top),Math.abs(e.bottom));return e=2*Math.max(Math.abs(e.left),Math.abs(e.right)),Math.min(0<e?1/e*t:1,0<i?1/i*n:1)}(e.len,i.len,M),t.group.attr({scaleX:e,scaleY:e})},hasData:function(){return p(this)&&!0===this.visible&&c(this.points)&&0<this.points.length},placementStrategy:{random:function(t,n){var e=n.field;return n=n.rotation,{x:Math.round(e.width*(Math.random()+.5)/2)-e.width/2,y:Math.round(e.height*(Math.random()+.5)/2)-e.height/2,rotation:r(n.orientations,t.index,n.from,n.to)}},center:function(t,n){return{x:0,y:0,rotation:r((n=n.rotation).orientations,t.index,n.from,n.to)}}},pointArrayMap:["weight"],spirals:{archimedean:function(t,n){var e=n.field;n=!1,e=e.width*e.width+e.height*e.height;var i=.8*t;return 1e4>=t&&(n={x:i*Math.cos(i),y:i*Math.sin(i)},Math.min(Math.abs(n.x),Math.abs(n.y))<e||(n=!1)),n},rectangular:function(t,n){return t=l(t,n),n=n.field,t&&(t.x*=n.ratioX,t.y*=n.ratioY),t},square:l},utils:{extendPlayingField:u,getRotation:r,isPolygonsColliding:w,rotate2DToOrigin:i.rotate2DToOrigin,rotate2DToPoint:i.rotate2DToPoint},getPlotBox:function(){var t=this.chart,n=t.inverted,e=this[n?"yAxis":"xAxis"];return{translateX:(e?e.left:t.plotLeft)+(e?e.len:t.plotWidth)/2,translateY:((n=this[n?"xAxis":"yAxis"])?n.top:t.plotTop)+(n?n.len:t.plotHeight)/2,scaleX:1,scaleY:1}}},{draw:e,shouldDraw:function(){return!this.isNull},isValid:function(){return!0},weight:1})})),n(t,"masters/modules/wordcloud.src.js",[],(function(){}))}))}}]);